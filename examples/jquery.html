---
layout: default
title: jQuery example
---

<h1>jQuery example</h1>

<p>This is an example of loading prices from the API using jQuery</p>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>
<script src="/examples/jquery-example.js"></script>

<style type="text/css" media="screen">
  #results li {
    list-style: none;
  }

  #results li.offer {
    padding: 0.5em;
    background-color: #ddd;
    border-radius: 0.5em;
  }

  #pending li {
    padding: 0 18px;
    background: #fff url('/assets/image/ajax-loader.gif') no-repeat;
    border-radius: 0.5em;
    list-style: none;
    display: inline;
  }
</style>

<form id="isbn-form">
  <input type="text" id="isbn-input" placeholder="ISBN..." value="9781619493919">
  <input type="submit" value="Load prices">
</form>

<p id="request-information">
  <!-- Will be replaced by the contents of the 'tmpl-request-information' template -->
  &nbsp;
</p>

<h2>Results:</h2>

<ul id="pending"></ul>

<ul id="results">
  <li>Results will go here</li>
</ul>

<script id="tmpl-offer" type="text/template">
  <li id="offer-<%= id %>" class="offer" data-total-price="<%= offer.total %>">
    <?-- FIXME - should be offer.url -->
    <a href="<%= response.vendor.url %>"><%= response.vendor.name %></a> (<%= condition %>)<br>
    Total price: <strong><%= offer.total %> <%= response.request.currency %></strong><br>
    Book:  <%= offer.price %> <%= response.request.currency %> &mdash; <%= offer.availabilityNote %><br>
    Shipping: <%= offer.shipping %> <%= response.request.currency %> &mdash; <%= offer.shippingNote %><br>
  </li>
</script>

<script id="tmpl-pending" type="text/template">
  <li id="pending-<%= id %>">
    <%= response.vendor.name %>
  </li>
</script>

<script id="tmpl-request-information" type="text/template">
    Finding prices for books sent to <strong><%= response.request.country %></strong>
    with prices converted to <strong><%= response.request.currency %></strong>. These
    were determined from your IP address. See the <a href="<%= response.request.url %>">raw JSON request</a>.
</script>
